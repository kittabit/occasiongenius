{"ast":null,"code":"import _slicedToArray from\"/Users/kittabit/dev/occasion-genius-wp/og-events/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _classCallCheck from\"/Users/kittabit/dev/occasion-genius-wp/og-events/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/kittabit/dev/occasion-genius-wp/og-events/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/kittabit/dev/occasion-genius-wp/og-events/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/kittabit/dev/occasion-genius-wp/og-events/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import ReactDOM from'react-dom';import'./index.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.fetchData=function(){fetch(\"/wp-json/occasiongenius/v1/events\").then(function(resp){return resp.json();}).then(function(data){_this.setState({suggestion:data.suggestion});}).catch(function(error){console.log(error,\"catch the hoop\");});};_this.nextPage=function(){_this.setState({current_page:_this.state.current_page+1},function(){var events_url=_this.state.events_url+_this.state.current_page;_this.fetchData(events_url);});};_this.prevPage=function(){_this.setState({current_page:_this.state.current_page-1},function(){var events_url=_this.state.events_url+_this.state.current_page;_this.fetchData(events_url);});};_this.state={current_page:[],next_page:[],max_pages:[],events:[],isLoading:1,events_url:\"/wp-json/occasiongenius/v1/events?page=\"};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;Promise.all([fetch('/wp-json/occasiongenius/v1/events')]).then(function(_ref){var _ref2=_slicedToArray(_ref,1),res1=_ref2[0];return Promise.all([res1.json()]);}).then(function(_ref3){var _ref4=_slicedToArray(_ref3,1),data1=_ref4[0];return _this2.setState({events:data1.events,current_page:data1.info.current_page,next_page:data1.info.next_page,max_pages:data1.info.max_pages,isLoading:0});});}},{key:\"handleEvent\",value:function handleEvent(){console.log(this.props);}},{key:\"render\",value:function render(){var _this$state=this.state,isLoading=_this$state.isLoading,events=_this$state.events;return/*#__PURE__*/_jsxs(\"div\",{className:\"occasiongenius-container\",children:[\"events here Image||Name||Location||Date\",this.state.events.map(function(item,index){return/*#__PURE__*/_jsx(\"div\",{className:\"occasiongenius-single-item\",children:item.name});}),/*#__PURE__*/_jsxs(\"div\",{className:\"posts-app__post-nav\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:this.prevPage,children:\"Previous Page\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Page \",this.state.current_page,\" of \",this.state.max_pages]}),/*#__PURE__*/_jsx(\"button\",{onClick:this.prevPage,children:\"Next Page\"})]})]});}}]);return App;}(React.Component);var targets=document.querySelectorAll('.og-root');Array.prototype.forEach.call(targets,function(target){var id=target.dataset.id;var settings=window.wcSettings[id];ReactDOM.render(/*#__PURE__*/React.createElement(App,null),target);});","map":{"version":3,"sources":["/Users/kittabit/dev/occasion-genius-wp/og-events/src/index.js"],"names":["React","ReactDOM","App","props","fetchData","fetch","then","resp","json","data","setState","suggestion","catch","error","console","log","nextPage","current_page","state","events_url","prevPage","next_page","max_pages","events","isLoading","Promise","all","res1","data1","info","map","item","index","name","Component","targets","document","querySelectorAll","Array","prototype","forEach","call","target","id","dataset","settings","window","wcSettings","render","createElement"],"mappings":"8oBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,WAArB,CACA,MAAO,aAAP,C,2FAGMC,CAAAA,G,sGACJ,aAAaC,KAAb,CAAmB,qCACjB,uBAAMA,KAAN,EADiB,MA4BnBC,SA5BmB,CA4BP,UAAM,CAChBC,KAAK,CAAC,mCAAD,CAAL,CACCC,IADD,CACM,SAACC,IAAD,CAAU,CACd,MAAOA,CAAAA,IAAI,CAACC,IAAL,EAAP,CACD,CAHD,EAICF,IAJD,CAIM,SAACG,IAAD,CAAU,CACd,MAAKC,QAAL,CAAc,CAAEC,UAAU,CAAEF,IAAI,CAACE,UAAnB,CAAd,EACD,CAND,EAOCC,KAPD,CAOO,SAACC,KAAD,CAAW,CAChBC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAmB,gBAAnB,EACD,CATD,EAUD,CAvCkB,OAyCnBG,QAzCmB,CAyCR,UAAM,CACf,MAAKN,QAAL,CACE,CACEO,YAAY,CAAE,MAAKC,KAAL,CAAWD,YAAX,CAA0B,CAD1C,CADF,CAIE,UAAM,CACJ,GAAME,CAAAA,UAAU,CAAG,MAAKD,KAAL,CAAWC,UAAX,CAAwB,MAAKD,KAAL,CAAWD,YAAtD,CACA,MAAKb,SAAL,CAAee,UAAf,EACD,CAPH,EASD,CAnDkB,OAqDnBC,QArDmB,CAqDR,UAAM,CACf,MAAKV,QAAL,CACE,CACEO,YAAY,CAAE,MAAKC,KAAL,CAAWD,YAAX,CAA0B,CAD1C,CADF,CAIE,UAAM,CACJ,GAAME,CAAAA,UAAU,CAAG,MAAKD,KAAL,CAAWC,UAAX,CAAwB,MAAKD,KAAL,CAAWD,YAAtD,CACA,MAAKb,SAAL,CAAee,UAAf,EACD,CAPH,EASD,CA/DkB,CAEjB,MAAKD,KAAL,CAAa,CACXD,YAAY,CAAE,EADH,CAEXI,SAAS,CAAE,EAFA,CAGXC,SAAS,CAAE,EAHA,CAIXC,MAAM,CAAE,EAJG,CAKXC,SAAS,CAAE,CALA,CAMXL,UAAU,CAAE,yCAND,CAAb,CAFiB,aAUlB,C,iDACD,4BAAoB,iBAClBM,OAAO,CAACC,GAAR,CAAY,CACVrB,KAAK,CAAC,mCAAD,CADK,CAAZ,EAGCC,IAHD,CAGM,gDAAEqB,IAAF,gBAAYF,CAAAA,OAAO,CAACC,GAAR,CAAY,CAACC,IAAI,CAACnB,IAAL,EAAD,CAAZ,CAAZ,EAHN,EAICF,IAJD,CAIM,kDAAEsB,KAAF,gBAAa,CAAA,MAAI,CAAClB,QAAL,CAAc,CAC/Ba,MAAM,CAAEK,KAAK,CAACL,MADiB,CAE/BN,YAAY,CAAEW,KAAK,CAACC,IAAN,CAAWZ,YAFM,CAG/BI,SAAS,CAAEO,KAAK,CAACC,IAAN,CAAWR,SAHS,CAI/BC,SAAS,CAAEM,KAAK,CAACC,IAAN,CAAWP,SAJS,CAK/BE,SAAS,CAAE,CALoB,CAAd,CAAb,EAJN,EAWD,C,2BACD,sBAAa,CACXV,OAAO,CAACC,GAAR,CAAY,KAAKZ,KAAjB,EACD,C,sBAwCD,iBAAQ,CACN,gBAA8B,KAAKe,KAAnC,CAAQM,SAAR,aAAQA,SAAR,CAAmBD,MAAnB,aAAmBA,MAAnB,CAEA,mBACE,aAAK,SAAS,CAAC,0BAAf,qDAIG,KAAKL,KAAL,CAAWK,MAAX,CAAkBO,GAAlB,CAAsB,SAACC,IAAD,CAAOC,KAAP,qBACrB,YAAK,SAAS,CAAC,4BAAf,UACID,IAAI,CAACE,IADT,EADqB,EAAtB,CAJH,cAUE,aAAK,SAAS,CAAC,qBAAf,wBACE,eAAQ,OAAO,CAAE,KAAKb,QAAtB,2BADF,cAEE,6BAAS,KAAKF,KAAL,CAAWD,YAApB,QAAsC,KAAKC,KAAL,CAAWI,SAAjD,GAFF,cAGE,eAAQ,OAAO,CAAE,KAAKF,QAAtB,uBAHF,GAVF,GADF,CAmBD,C,iBAzFepB,KAAK,CAACkC,S,EA4FxB,GAAMC,CAAAA,OAAO,CAAGC,QAAQ,CAACC,gBAAT,CAA0B,UAA1B,CAAhB,CACAC,KAAK,CAACC,SAAN,CAAgBC,OAAhB,CAAwBC,IAAxB,CAA6BN,OAA7B,CAAsC,SAAAO,MAAM,CAAI,CAC9C,GAAMC,CAAAA,EAAE,CAAGD,MAAM,CAACE,OAAP,CAAeD,EAA1B,CACA,GAAME,CAAAA,QAAQ,CAAGC,MAAM,CAACC,UAAP,CAAkBJ,EAAlB,CAAjB,CAEA1C,QAAQ,CAAC+C,MAAT,cAAgBhD,KAAK,CAACiD,aAAN,CAAoB/C,GAApB,CAAyB,IAAzB,CAAhB,CAAgDwC,MAAhD,EACD,CALD","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\n\nclass App extends React.Component {\n  constructor (props){\n    super(props);\n    this.state = {\n      current_page: [],\n      next_page: [],\n      max_pages: [],\n      events: [],\n      isLoading: 1,\n      events_url: \"/wp-json/occasiongenius/v1/events?page=\"\n    }\n  }\n  componentDidMount() {\n    Promise.all([\n      fetch('/wp-json/occasiongenius/v1/events'),\n    ])\n    .then(([res1]) => Promise.all([res1.json()]))\n    .then(([data1]) => this.setState({\n      events: data1.events,\n      current_page: data1.info.current_page, \n      next_page: data1.info.next_page, \n      max_pages: data1.info.max_pages, \n      isLoading: 0\n    }));\n  } \n  handleEvent(){\n    console.log(this.props);  \n  }     \n\n  fetchData = () => {\n    fetch(\"/wp-json/occasiongenius/v1/events\")\n    .then((resp) => {\n      return resp.json()\n    }) \n    .then((data) => {\n      this.setState({ suggestion: data.suggestion })                    \n    })\n    .catch((error) => {\n      console.log(error, \"catch the hoop\")\n    })\n  }\n\n  nextPage = () => {\n    this.setState(\n      {\n        current_page: this.state.current_page + 1\n      },\n      () => {\n        const events_url = this.state.events_url + this.state.current_page;\n        this.fetchData(events_url);\n      }\n    );\n  };\n\n  prevPage = () => {\n    this.setState(\n      {\n        current_page: this.state.current_page - 1\n      },\n      () => {\n        const events_url = this.state.events_url + this.state.current_page;\n        this.fetchData(events_url);\n      }\n    );\n  };\n\n\n  render(){\n    const { isLoading, events } = this.state;\n\n    return ( \n      <div className=\"occasiongenius-container\">\n        events here \n        Image||Name||Location||Date\n\n        {this.state.events.map((item, index) => (\n          <div className=\"occasiongenius-single-item\">\n            { item.name }\n          </div>\n        ))}\n\n        <div className=\"posts-app__post-nav\">\n          <button onClick={this.prevPage}>Previous Page</button>\n          <p>Page {this.state.current_page} of {this.state.max_pages}</p>\n          <button onClick={this.prevPage}>Next Page</button>\n        </div>\n\n      </div>\n    );\n  }\n}\n\nconst targets = document.querySelectorAll('.og-root');\nArray.prototype.forEach.call(targets, target => {\n  const id = target.dataset.id;\n  const settings = window.wcSettings[id];\n\n  ReactDOM.render(React.createElement(App, null), target);\n});"]},"metadata":{},"sourceType":"module"}