{"ast":null,"code":"import _asyncToGenerator from\"/Users/kittabit/dev/occasion-genius-wp/og-events/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/kittabit/dev/occasion-genius-wp/og-events/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/kittabit/dev/occasion-genius-wp/og-events/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/kittabit/dev/occasion-genius-wp/og-events/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/kittabit/dev/occasion-genius-wp/og-events/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"/Users/kittabit/dev/occasion-genius-wp/og-events/node_modules/@babel/runtime/regenerator/index.js\";import React,{Component}from'react';import{Link}from\"react-router-dom\";import Breadcrumbs from'./Breadcrumbs';import Loading from'./Loading';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var VenueOutput=/*#__PURE__*/function(_Component){_inherits(VenueOutput,_Component);var _super=_createSuper(VenueOutput);function VenueOutput(props){var _this;_classCallCheck(this,VenueOutput);_this=_super.call(this,props);_this.fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(url){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(url).then(function(r){return r.json();}).then(function(result){_this.setState({category_events:result.events,isLoading:0});}).catch(function(e){console.log(e);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.nextPage=function(){_this.setState({current_page:_this.state.current_page+1,isLoading:1},function(){var events_url=_this.state.events_url+\"?page=\"+_this.state.current_page;_this.fetchData(events_url);window.scrollTo({top:0,behavior:\"smooth\"});});};_this.prevPage=function(){_this.setState({current_page:_this.state.current_page-1,isLoading:1},function(){var events_url=_this.state.events_url+\"?page=\"+_this.state.current_page;_this.fetchData(events_url);window.scrollTo({top:0,behavior:\"smooth\"});});};_this.state={current_page:[],next_page:[],max_pages:[],category_data:[],category_events:[],events_url:'/wp-json/occasiongenius/v1/flag/'+_this.props.slug,isLoading:1};return _this;}_createClass(VenueOutput,[{key:\"componentDidMount\",value:function componentDidMount(){// Promise.all([\n//   fetch('/wp-json/occasiongenius/v1/flag/' + this.props.slug),\n// ])\n// .then(([res]) => Promise.all([res.json()]))\n// .then(([cat_data]) => this.setState({\n//   category_data: cat_data.data,\n//   category_events: cat_data.events,\n//   current_page: cat_data.info.current_page, \n//   next_page: cat_data.info.next_page, \n//   max_pages: cat_data.info.max_pages, \n//   isLoading: 0\n// }));\ndocument.title=\"Local Event Categories\";}},{key:\"render\",value:function render(){var _this$state=this.state,current_page=_this$state.current_page,next_page=_this$state.next_page,max_pages=_this$state.max_pages;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Breadcrumbs,{parent_title:\"All Events\",parent_url:\"/events/all/\",page_name:\"venue_name\"}),this.props.uuid]});}}]);return VenueOutput;}(Component);export default VenueOutput;","map":{"version":3,"sources":["/Users/kittabit/dev/occasion-genius-wp/og-events/src/Components/VenueOutput.js"],"names":["React","Component","Link","Breadcrumbs","Loading","VenueOutput","props","fetchData","url","fetch","then","r","json","result","setState","category_events","events","isLoading","catch","e","console","log","nextPage","current_page","state","events_url","window","scrollTo","top","behavior","prevPage","next_page","max_pages","category_data","slug","document","title","uuid"],"mappings":"uxBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,C,gJAEMC,CAAAA,W,0GAEF,qBAAaC,KAAb,CAAmB,6CAEf,uBAAMA,KAAN,EAFe,MAkCnBC,SAlCmB,0FAkCP,iBAAOC,GAAP,wIAEFC,CAAAA,KAAK,CAACD,GAAD,CAAL,CACHE,IADG,CACE,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACC,IAAF,EAAP,EADF,EAEHF,IAFG,CAEE,SAACG,MAAD,CAAY,CAChB,MAAKC,QAAL,CAAc,CACVC,eAAe,CAAEF,MAAM,CAACG,MADd,CAEVC,SAAS,CAAE,CAFD,CAAd,EAID,CAPG,EAQHC,KARG,CAQG,SAACC,CAAD,CAAO,CACZC,OAAO,CAACC,GAAR,CAAYF,CAAZ,EACD,CAVG,CAFE,uDAlCO,qEAkDnBG,QAlDmB,CAkDR,UAAM,CAEb,MAAKR,QAAL,CAAc,CACVS,YAAY,CAAE,MAAKC,KAAL,CAAWD,YAAX,CAA0B,CAD9B,CAEVN,SAAS,CAAE,CAFD,CAAd,CAIE,UAAM,CACJ,GAAMQ,CAAAA,UAAU,CAAG,MAAKD,KAAL,CAAWC,UAAX,CAAwB,QAAxB,CAAmC,MAAKD,KAAL,CAAWD,YAAjE,CACA,MAAKhB,SAAL,CAAekB,UAAf,EACAC,MAAM,CAACC,QAAP,CAAgB,CACdC,GAAG,CAAE,CADS,CAEdC,QAAQ,CAAE,QAFI,CAAhB,EAID,CAXH,EAcH,CAlEkB,OAoEnBC,QApEmB,CAoER,UAAM,CAEb,MAAKhB,QAAL,CAAc,CACVS,YAAY,CAAE,MAAKC,KAAL,CAAWD,YAAX,CAA0B,CAD9B,CAEVN,SAAS,CAAE,CAFD,CAAd,CAIE,UAAM,CACJ,GAAMQ,CAAAA,UAAU,CAAG,MAAKD,KAAL,CAAWC,UAAX,CAAwB,QAAxB,CAAmC,MAAKD,KAAL,CAAWD,YAAjE,CACA,MAAKhB,SAAL,CAAekB,UAAf,EACAC,MAAM,CAACC,QAAP,CAAgB,CACdC,GAAG,CAAE,CADS,CAEdC,QAAQ,CAAE,QAFI,CAAhB,EAID,CAXH,EAcH,CApFkB,CAGf,MAAKL,KAAL,CAAa,CACTD,YAAY,CAAE,EADL,CAETQ,SAAS,CAAE,EAFF,CAGTC,SAAS,CAAE,EAHF,CAITC,aAAa,CAAE,EAJN,CAKTlB,eAAe,CAAE,EALR,CAMTU,UAAU,CAAE,mCAAqC,MAAKnB,KAAL,CAAW4B,IANnD,CAOTjB,SAAS,CAAE,CAPF,CAAb,CAHe,aAalB,C,yDAED,4BAAoB,CAEhB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEAkB,QAAQ,CAACC,KAAT,CAAiB,wBAAjB,CAEH,C,sBAsDD,iBAAQ,CAEJ,gBAA+C,KAAKZ,KAApD,CAAQD,YAAR,aAAQA,YAAR,CAAsBQ,SAAtB,aAAsBA,SAAtB,CAAiCC,SAAjC,aAAiCA,SAAjC,CAEA,mBACI,wCAEI,KAAC,WAAD,EAAa,YAAY,CAAC,YAA1B,CAAuC,UAAU,CAAC,cAAlD,CAAiE,SAAS,CAAC,YAA3E,EAFJ,CAGM,KAAK1B,KAAL,CAAW+B,IAHjB,GADJ,CASH,C,yBArGqBpC,S,EAwG1B,cAAeI,CAAAA,WAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\nimport Breadcrumbs from './Breadcrumbs';\nimport Loading from './Loading';\n\nclass VenueOutput extends Component {\n\n    constructor (props){\n\n        super(props);\n        this.state = {\n            current_page: [],\n            next_page: [],\n            max_pages: [],\n            category_data: [],\n            category_events: [],\n            events_url: '/wp-json/occasiongenius/v1/flag/' + this.props.slug,\n            isLoading: 1,\n        }\n        \n    }\n    \n    componentDidMount() {\n\n        // Promise.all([\n        //   fetch('/wp-json/occasiongenius/v1/flag/' + this.props.slug),\n        // ])\n        // .then(([res]) => Promise.all([res.json()]))\n        // .then(([cat_data]) => this.setState({\n        //   category_data: cat_data.data,\n        //   category_events: cat_data.events,\n        //   current_page: cat_data.info.current_page, \n        //   next_page: cat_data.info.next_page, \n        //   max_pages: cat_data.info.max_pages, \n        //   isLoading: 0\n        // }));\n\n        document.title = \"Local Event Categories\";\n\n    } \n\n    fetchData = async (url) => {\n    \n        await fetch(url)\n          .then((r) => r.json())\n          .then((result) => {\n            this.setState({\n                category_events: result.events,\n                isLoading: 0\n            });\n          })\n          .catch((e) => {\n            console.log(e);\n          });\n    \n    };  \n    \n    nextPage = () => {\n    \n        this.setState({\n            current_page: this.state.current_page + 1,\n            isLoading: 1\n          },\n          () => {\n            const events_url = this.state.events_url + \"?page=\" + this.state.current_page;\n            this.fetchData(events_url);\n            window.scrollTo({\n              top: 0,\n              behavior: \"smooth\"\n            });\n          }\n        );\n    \n    };\n    \n    prevPage = () => {\n    \n        this.setState({\n            current_page: this.state.current_page - 1,\n            isLoading: 1\n          },\n          () => {\n            const events_url = this.state.events_url + \"?page=\" + this.state.current_page;\n            this.fetchData(events_url);\n            window.scrollTo({\n              top: 0,\n              behavior: \"smooth\"\n            });\n          }\n        );\n    \n    };    \n\n    render(){\n\n        const { current_page, next_page, max_pages } = this.state;\n\n        return (\n            <>\n\n                <Breadcrumbs parent_title=\"All Events\" parent_url=\"/events/all/\" page_name=\"venue_name\" />\n                { this.props.uuid}\n                \n\n            </>\n        )\n    }\n}\n\nexport default VenueOutput\n"]},"metadata":{},"sourceType":"module"}