{"ast":null,"code":"import _slicedToArray from\"/Users/kittabit/dev/occasion-genius-wp/og-events/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _classCallCheck from\"/Users/kittabit/dev/occasion-genius-wp/og-events/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/kittabit/dev/occasion-genius-wp/og-events/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/kittabit/dev/occasion-genius-wp/og-events/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/kittabit/dev/occasion-genius-wp/og-events/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import GoogleMapReact from'google-map-react';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var OGMarker=function OGMarker(props){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"gmap-pulse\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-12 h-12\",xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 320 512\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M320 144C320 223.5 255.5 288 176 288C96.47 288 32 223.5 32 144C32 64.47 96.47 0 176 0C255.5 0 320 64.47 320 144zM192 64C192 55.16 184.8 48 176 48C122.1 48 80 90.98 80 144C80 152.8 87.16 160 96 160C104.8 160 112 152.8 112 144C112 108.7 140.7 80 176 80C184.8 80 192 72.84 192 64zM144 480V317.1C154.4 319 165.1 319.1 176 319.1C186.9 319.1 197.6 319 208 317.1V480C208 497.7 193.7 512 176 512C158.3 512 144 497.7 144 480z\"})})})});};var MapOutput=/*#__PURE__*/function(_React$Component){_inherits(MapOutput,_React$Component);var _super=_createSuper(MapOutput);function MapOutput(props){var _this;_classCallCheck(this,MapOutput);_this=_super.call(this,props);_this.state={nearby:[],latitude:\"\",longitude:\"\",center:{lat:Number(_this.props.latitude),lng:Number(_this.props.longitude)}};return _this;}_createClass(MapOutput,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.setState({latitude:this.props.latitude,longitude:this.props.longitude,center:{lat:Number(this.props.latitude),lng:Number(this.props.longitude)}});Promise.all([fetch('/wp-json/occasiongenius/v1/nearby/'+this.props.storageid)]).then(function(_ref){var _ref2=_slicedToArray(_ref,1),res=_ref2[0];return Promise.all([res.json()]);}).then(function(_ref3){var _ref4=_slicedToArray(_ref3,1),data=_ref4[0];_this2.setState({nearby:data.results});});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps,previousState){var _this3=this;if(previousProps.latitude!==this.props.latitude&&previousProps.longitude!==this.props.longitude){this.setState({latitude:this.props.latitude,longitude:this.props.longitude,center:{lat:Number(this.props.latitude),lng:Number(this.props.longitude)}});Promise.all([fetch('/wp-json/occasiongenius/v1/nearby/'+this.props.storageid)]).then(function(_ref5){var _ref6=_slicedToArray(_ref5,1),res=_ref6[0];return Promise.all([res.json()]);}).then(function(_ref7){var _ref8=_slicedToArray(_ref7,1),data=_ref8[0];_this3.setState({nearby:data.results});});this.render();}}},{key:\"render\",value:function render(){console.table(this.state.nearby);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-[350px] mt-4 mb-2\",\"data-lat\":Number(this.state.latitude),\"data-lng\":Number(this.state.longitude),children:/*#__PURE__*/_jsxs(GoogleMapReact,{bootstrapURLKeys:{key:window.ogSettings.og_gmaps_api_key},defaultCenter:this.state.center,center:this.state.center,defaultZoom:17,yesIWantToUseGoogleMapApiInternals:true,children:[/*#__PURE__*/_jsx(OGMarker,{lat:Number(this.state.latitude),lng:Number(this.state.longitude)}),this.state.nearby.map(function(item,index){return/*#__PURE__*/_jsx(OGMarker,{lat:Number(item.latitude),lng:Number(item.longitude)},index);})]})})});}}]);return MapOutput;}(React.Component);export default MapOutput;","map":{"version":3,"sources":["/Users/kittabit/dev/occasion-genius-wp/og-events/src/Components/MapOutput.js"],"names":["React","GoogleMapReact","OGMarker","props","MapOutput","state","nearby","latitude","longitude","center","lat","Number","lng","setState","Promise","all","fetch","storageid","then","res","json","data","results","previousProps","previousState","render","console","table","key","window","ogSettings","og_gmaps_api_key","map","item","index","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport GoogleMapReact from 'google-map-react';\n\nconst OGMarker = props => {\n    return <>\n      <div className=\"gmap-pulse\">\n        <svg className=\"w-12 h-12\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 320 512\"><path d=\"M320 144C320 223.5 255.5 288 176 288C96.47 288 32 223.5 32 144C32 64.47 96.47 0 176 0C255.5 0 320 64.47 320 144zM192 64C192 55.16 184.8 48 176 48C122.1 48 80 90.98 80 144C80 152.8 87.16 160 96 160C104.8 160 112 152.8 112 144C112 108.7 140.7 80 176 80C184.8 80 192 72.84 192 64zM144 480V317.1C154.4 319 165.1 319.1 176 319.1C186.9 319.1 197.6 319 208 317.1V480C208 497.7 193.7 512 176 512C158.3 512 144 497.7 144 480z\"/></svg>\n      </div>\n    </>\n}\n\nclass MapOutput extends React.Component {\n     \n    constructor (props){\n\n        super(props);\n        this.state = {\n            nearby: [],\n            latitude: \"\",\n            longitude: \"\",\n            center: { lat: Number(this.props.latitude), lng: Number(this.props.longitude) }\n        }\n        \n    }\n\n    componentDidMount() {\n\n        this.setState({\n            latitude: this.props.latitude,\n            longitude: this.props.longitude,\n            center: { lat: Number(this.props.latitude), lng: Number(this.props.longitude) }\n        });\n\n        Promise.all([\n            fetch('/wp-json/occasiongenius/v1/nearby/' + this.props.storageid)\n        ])      \n        .then(([res]) => Promise.all([res.json()]))\n        .then(([data]) => {                \n            this.setState({            \n                nearby: data.results            \n            })\n        });\n\n    }\n\n    componentDidUpdate(previousProps, previousState) {\n        \n        if (previousProps.latitude !== this.props.latitude && previousProps.longitude !== this.props.longitude) {\n\n            this.setState({\n                latitude: this.props.latitude,\n                longitude: this.props.longitude,\n                center: { lat: Number(this.props.latitude), lng: Number(this.props.longitude) }\n            });\n\n            Promise.all([\n                fetch('/wp-json/occasiongenius/v1/nearby/' + this.props.storageid)\n            ])      \n            .then(([res]) => Promise.all([res.json()]))\n            .then(([data]) => {                \n                this.setState({            \n                    nearby: data.results            \n                })\n            });\n\n            this.render();\n\n        }\n\n    }\n\n    render() { \n\n        console.table(this.state.nearby);\n\n        return (\n            \n            <>\n\n                <div className=\"w-full h-[350px] mt-4 mb-2\" data-lat={ Number(this.state.latitude) } data-lng={ Number(this.state.longitude) }>\n                    <GoogleMapReact                        \n                        bootstrapURLKeys={{ key: window.ogSettings.og_gmaps_api_key }}\n                        defaultCenter={ this.state.center }\n                        center={ this.state.center }\n                        defaultZoom={17}\n                        yesIWantToUseGoogleMapApiInternals\n                    >\n                        <OGMarker lat={ Number(this.state.latitude) } lng={ Number(this.state.longitude) } />\n\n                        {this.state.nearby.map((item, index) => (   \n                            <OGMarker key={index} lat={ Number(item.latitude) } lng={ Number(item.longitude) } />\n                        ))}\n\n                    </GoogleMapReact>\n                </div>\n\n            </>\n        )\n\n    }\n    \n}\n\nexport default MapOutput;"]},"metadata":{},"sourceType":"module"}