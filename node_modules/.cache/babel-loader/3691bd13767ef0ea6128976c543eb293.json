{"ast":null,"code":"import _slicedToArray from\"/Users/kittabit/dev/occasion-genius-wp/og-events/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _asyncToGenerator from\"/Users/kittabit/dev/occasion-genius-wp/og-events/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/kittabit/dev/occasion-genius-wp/og-events/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/kittabit/dev/occasion-genius-wp/og-events/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/kittabit/dev/occasion-genius-wp/og-events/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/kittabit/dev/occasion-genius-wp/og-events/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"/Users/kittabit/dev/occasion-genius-wp/og-events/node_modules/@babel/runtime/regenerator/index.js\";import React from'react';import ReactDOM from'react-dom';import'./index.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(url){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(url).then(function(r){return r.json();}).then(function(result){_this.setState({events:result.events,isLoading:0});}).catch(function(e){console.log(e);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.nextPage=function(){_this.setState({current_page:_this.state.current_page+1},function(){var events_url=_this.state.events_url+_this.state.current_page;_this.fetchData(events_url);window.scrollTo({top:0,behavior:\"smooth\"});});};_this.prevPage=function(){_this.setState({current_page:_this.state.current_page-1},function(){var events_url=_this.state.events_url+_this.state.current_page;_this.fetchData(events_url);window.scrollTo({top:0,behavior:\"smooth\"});});};_this.state={current_page:[],next_page:[],max_pages:[],events:[],isLoading:1,events_url:\"/wp-json/occasiongenius/v1/events?page=\"};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;Promise.all([fetch('/wp-json/occasiongenius/v1/events')]).then(function(_ref2){var _ref3=_slicedToArray(_ref2,1),res1=_ref3[0];return Promise.all([res1.json()]);}).then(function(_ref4){var _ref5=_slicedToArray(_ref4,1),data1=_ref5[0];return _this2.setState({events:data1.events,current_page:data1.info.current_page,next_page:data1.info.next_page,max_pages:data1.info.max_pages,isLoading:0});});}},{key:\"handleEvent\",value:function handleEvent(){console.log(this.props);}},{key:\"render\",value:function render(){var _this$state=this.state,isLoading=_this$state.isLoading,events=_this$state.events,current_page=_this$state.current_page,next_page=_this$state.next_page,max_pages=_this$state.max_pages;return/*#__PURE__*/_jsxs(\"div\",{className:\"occasiongenius-parent-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"occasiongenius-container\",children:this.state.events.map(function(item,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"occasiongenius-single-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"occasiongenius-single_image\",style:{backgroundImage:\"url(\".concat(item.image_url,\")\")},children:/*#__PURE__*/_jsx(\"img\",{src:item.image_url,alt:item.name,title:item.title,loading:\"lazy\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"occasiongenius-single_title\",children:item.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"occasiongenius-single_location\",children:[item.venue_city,\", \",item.venue_state]}),/*#__PURE__*/_jsx(\"span\",{className:\"occasiongenius-single_date\",children:item.start_date})]});})}),/*#__PURE__*/_jsxs(\"div\",{className:\"occasiongenius-pagination\",children:[current_page>1&&/*#__PURE__*/_jsx(\"button\",{onClick:this.prevPage,children:\"Previous Page\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Page \",current_page,\" of \",max_pages]}),next_page<max_pages&&/*#__PURE__*/_jsx(\"button\",{onClick:this.nextPage,children:\"Next Page\"})]})]});}}]);return App;}(React.Component);var targets=document.querySelectorAll('.og-root');Array.prototype.forEach.call(targets,function(target){ReactDOM.render(/*#__PURE__*/React.createElement(App,null),target);});","map":{"version":3,"sources":["/Users/kittabit/dev/occasion-genius-wp/og-events/src/index.js"],"names":["React","ReactDOM","App","props","fetchData","url","fetch","then","r","json","result","setState","events","isLoading","catch","e","console","log","nextPage","current_page","state","events_url","window","scrollTo","top","behavior","prevPage","next_page","max_pages","Promise","all","res1","data1","info","map","item","index","backgroundImage","image_url","name","title","venue_city","venue_state","start_date","Component","targets","document","querySelectorAll","Array","prototype","forEach","call","target","render","createElement"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nclass App extends React.Component {\n  constructor (props){\n    super(props);\n    this.state = {\n      current_page: [],\n      next_page: [],\n      max_pages: [],\n      events: [],\n      isLoading: 1,\n      events_url: \"/wp-json/occasiongenius/v1/events?page=\"\n    }\n  }\n  componentDidMount() {\n    Promise.all([\n      fetch('/wp-json/occasiongenius/v1/events'),\n    ])\n    .then(([res1]) => Promise.all([res1.json()]))\n    .then(([data1]) => this.setState({\n      events: data1.events,\n      current_page: data1.info.current_page, \n      next_page: data1.info.next_page, \n      max_pages: data1.info.max_pages, \n      isLoading: 0\n    }));\n  } \n  handleEvent(){\n    console.log(this.props);  \n  }     \n\n  fetchData = async (url) => {\n    await fetch(url)\n      .then((r) => r.json())\n      .then((result) => {\n        this.setState({\n          events: result.events,\n          isLoading: 0\n        });\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  };  \n\n  nextPage = () => {\n    this.setState({\n        current_page: this.state.current_page + 1\n      },\n      () => {\n        const events_url = this.state.events_url + this.state.current_page;\n        this.fetchData(events_url);\n        window.scrollTo({\n          top: 0,\n          behavior: \"smooth\"\n        });\n      }\n    );\n  };\n\n  prevPage = () => {\n    this.setState({\n        current_page: this.state.current_page - 1\n      },\n      () => {\n        const events_url = this.state.events_url + this.state.current_page;\n        this.fetchData(events_url);\n        window.scrollTo({\n          top: 0,\n          behavior: \"smooth\"\n        });\n      }\n    );\n  };\n  render(){\n    const { isLoading, events, current_page, next_page, max_pages } = this.state;\n\n    return ( \n      <div className=\"occasiongenius-parent-container\">\n\n        <div className=\"occasiongenius-container\"> \n          {this.state.events.map((item, index) => (\n            <div className=\"occasiongenius-single-item\">\n              <div className=\"occasiongenius-single_image\" style={{ backgroundImage: `url(${item.image_url})` }}>\n                <img src={ item.image_url } alt={ item.name } title={ item.title } loading=\"lazy\" />\n              </div>\n              <span className=\"occasiongenius-single_title\">{ item.name }</span>\n              <span className=\"occasiongenius-single_location\">{ item.venue_city }, { item.venue_state }</span>\n              <span className=\"occasiongenius-single_date\">{ item.start_date }</span>\n            </div>\n          ))}\n        </div> \n\n        <div className=\"occasiongenius-pagination\">\n            {current_page > 1 &&\n              <button onClick={this.prevPage}>Previous Page</button>\n            }\n\n            <p>Page {current_page} of {max_pages}</p>\n\n            {next_page < max_pages &&\n              <button onClick={this.nextPage}>Next Page</button>\n            }\n        </div>\n \n      </div>\n    );\n  }\n}\n\nconst targets = document.querySelectorAll('.og-root');\nArray.prototype.forEach.call(targets, target => {\n  ReactDOM.render(React.createElement(App, null), target);\n});"]},"metadata":{},"sourceType":"module"}