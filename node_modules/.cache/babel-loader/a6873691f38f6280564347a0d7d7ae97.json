{"ast":null,"code":"import _slicedToArray from\"/Users/kittabit/dev/occasion-genius-wp/og-events/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _classCallCheck from\"/Users/kittabit/dev/occasion-genius-wp/og-events/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/kittabit/dev/occasion-genius-wp/og-events/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/kittabit/dev/occasion-genius-wp/og-events/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/kittabit/dev/occasion-genius-wp/og-events/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EventSingle=/*#__PURE__*/function(_React$Component){_inherits(EventSingle,_React$Component);var _super=_createSuper(EventSingle);function EventSingle(props){var _this;_classCallCheck(this,EventSingle);_this=_super.call(this,props);_this.state={event:[],event_dates:[],event_count:[],isLoading:1,events_url:\"/wp-json/occasiongenius/v1/event/\",loadingText:\"Loading Event Data\"};return _this;}_createClass(EventSingle,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var event_url=this.state.events_url+this.props.uuid;Promise.all([fetch(event_url)]).then(function(_ref){var _ref2=_slicedToArray(_ref,1),res=_ref2[0];return Promise.all([res.json()]);}).then(function(_ref3){var _ref4=_slicedToArray(_ref3,1),data=_ref4[0];return _this2.setState({event:data.event,event_dates:data.event.event_dates,event_count:data.event.event_dates_count,isLoading:0});});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/_jsx(_Fragment,{children:function(){if(_this3.state.isLoading){document.title=\"Loading...\";return/*#__PURE__*/_jsx(\"div\",{className:\"occassiongenius-loaded\",children:\"Loading Event Details...\"});}else{if(_this3.state.event.venue_name){document.title=_this3.state.event.name+\" - \"+_this3.state.event.venue_name+\" (\"+_this3.state.event.venue_city+\", \"+_this3.state.event.venue_state+\")\";}else{document.title=_this3.state.event.name;}return/*#__PURE__*/_jsxs(\"div\",{className:\"occasiongenius-single-page\",\"data-popularity\":_this3.state.event.popularity_score,itemscope:true,itemtype:\"https://schema.org/Event\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"occassiongenius-single-page-image\",style:{backgroundImage:\"url(\".concat(_this3.state.event.image_url,\")\")},children:/*#__PURE__*/_jsx(\"img\",{src:_this3.state.event.image_url,alt:_this3.state.event.name})}),/*#__PURE__*/_jsx(\"h1\",{className:\"occassiongenius-single-title\",\"data-uuid\":_this3.props.uuid,itemprop:\"name\",children:_this3.state.event.name}),/*#__PURE__*/_jsx(\"div\",{className:\"occassiongenius-single-description\",itemprop:\"description\",children:_this3.state.event.description}),/*#__PURE__*/_jsx(\"div\",{className:\"occassiongenius-single-times\",children:/*#__PURE__*/_jsxs(\"span\",{itemprop:\"startDate\",content:_this3.state.event.start_date,children:[_this3.state.event.start_date,_this3.state.event.venue_address_2&&/*#__PURE__*/_jsxs(_Fragment,{children:[\"- \",_this3.state.event.end_date]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"occassiongenius-single-venue-information\",\"data-venue_uuid\":_this3.state.event.venue_uuid,itemprop:\"location\",itemscope:true,itemtype:\"https://schema.org/Place\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"occassiongenius-single-venue-information-title\",children:_this3.state.event.venue_name}),/*#__PURE__*/_jsxs(\"address\",{itemprop:\"address\",itemscope:true,itemtype:\"https://schema.org/PostalAddress\",children:[_this3.state.event.venue_address_1,/*#__PURE__*/_jsx(\"br\",{}),_this3.state.event.venue_address_2&&/*#__PURE__*/_jsxs(_Fragment,{children:[_this3.state.event.venue_address_2,/*#__PURE__*/_jsx(\"br\",{})]}),_this3.state.event.venue_city,\", \",_this3.state.event.venue_state,\" \",_this3.state.event.venue_zip,\" \",_this3.state.event.venue_country,/*#__PURE__*/_jsx(\"br\",{})]})]}),_this3.state.event_count>1&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"occassiongenius-alternative-dates\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Other Date(s)\"}),/*#__PURE__*/_jsx(\"ul\",{children:_this3.state.event_dates.map(function(item,index){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"li\",{children:item})});})})]})}),_this3.state.event.ticket_url&&/*#__PURE__*/_jsx(\"a\",{href:_this3.state.event.ticket_url,className:\"occassiongenius-single-venue-get-tickets\",rel:\"noopener noreferrer\",target:\"_blank\",title:\"Get Tickets\",children:\"Get Tickets\"}),/*#__PURE__*/_jsx(\"div\",{className:\"occassiongenius-single-mapping\",\"data-lat\":_this3.state.event.latitude,\"data-long\":_this3.state.event.longitude})]});}}()});}}]);return EventSingle;}(React.Component);export default EventSingle;","map":{"version":3,"sources":["/Users/kittabit/dev/occasion-genius-wp/og-events/src/Components/eventsingle.js"],"names":["React","EventSingle","props","state","event","event_dates","event_count","isLoading","events_url","loadingText","event_url","uuid","Promise","all","fetch","then","res","json","data","setState","event_dates_count","document","title","venue_name","name","venue_city","venue_state","popularity_score","backgroundImage","image_url","description","start_date","venue_address_2","end_date","venue_uuid","venue_address_1","venue_zip","venue_country","map","item","index","ticket_url","latitude","longitude","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nclass EventSingle extends React.Component {\n\n    constructor (props){\n\n        super(props);\n        this.state = {\n          event: [],\n          event_dates: [],\n          event_count: [],\n          isLoading: 1,\n          events_url: \"/wp-json/occasiongenius/v1/event/\",\n          loadingText: \"Loading Event Data\"\n        }\n        \n    }\n\n    componentDidMount() {\n\n        const event_url = this.state.events_url + this.props.uuid;\n\n        Promise.all([\n            fetch(event_url)\n        ])      \n        .then(([res]) => Promise.all([res.json()]))\n        .then(([data]) => this.setState({            \n            event: data.event,\n            event_dates: data.event.event_dates,\n            event_count: data.event.event_dates_count,\n            isLoading: 0\n        }));\n\n    }\n\n    render() {\n\n        return ( \n            <>\n                {(() => {\n                    if (this.state.isLoading) {\n                        document.title = \"Loading...\";\n                        \n                        return (\n                            <div className=\"occassiongenius-loaded\">Loading Event Details...</div>\n                        )\n                    } else {\n                        if(this.state.event.venue_name){\n                            document.title = this.state.event.name + \" - \" + this.state.event.venue_name + \" (\" + this.state.event.venue_city + \", \" + this.state.event.venue_state + \")\";\n                        }else{\n                            document.title = this.state.event.name;\n                        }\n\n                        return (\n\n                            <div className=\"occasiongenius-single-page\" data-popularity={ this.state.event.popularity_score } itemscope itemtype=\"https://schema.org/Event\">\n                                                            \n                                <div className=\"occassiongenius-single-page-image\" style={{ backgroundImage: `url(${this.state.event.image_url})` }}>\n                                    <img src={this.state.event.image_url} alt={this.state.event.name} />\n                                </div>\n\n                                <h1 className=\"occassiongenius-single-title\" data-uuid={this.props.uuid} itemprop=\"name\">{ this.state.event.name }</h1>\n                                <div className=\"occassiongenius-single-description\" itemprop=\"description\">{ this.state.event.description }</div>\n\n                                <div className=\"occassiongenius-single-times\"> \n                                    <span itemprop=\"startDate\" content={this.state.event.start_date}>\n                                    { this.state.event.start_date } \n                                    {this.state.event.venue_address_2 &&\n                                        <>\n                                            - { this.state.event.end_date }\n                                        </>\n                                    }\n                                    </span>\n                                </div>\n                                \n                                <div className=\"occassiongenius-single-venue-information\" data-venue_uuid={ this.state.event.venue_uuid } itemprop=\"location\" itemscope itemtype=\"https://schema.org/Place\">\n                                    <h4 className=\"occassiongenius-single-venue-information-title\">{ this.state.event.venue_name }</h4>\n                                    <address itemprop=\"address\" itemscope itemtype=\"https://schema.org/PostalAddress\">\n                                        { this.state.event.venue_address_1 }<br />\n                                        {this.state.event.venue_address_2 &&\n                                            <>\n                                                { this.state.event.venue_address_2 }<br />\n                                            </>\n                                        }\n                                        { this.state.event.venue_city }, { this.state.event.venue_state } { this.state.event.venue_zip } { this.state.event.venue_country }<br />\n                                    </address>\n                                </div>\n\n                                {this.state.event_count > 1 &&\n                                    <>\n                                        <div className=\"occassiongenius-alternative-dates\">\n                                            <h3>Other Date(s)</h3>\n                                            <ul> \n                                            {this.state.event_dates.map((item, index) => (   \n                                                <>\n                                                    <li>{item}</li>\n                                                </>\n                                            ))}\n                                            </ul>\n                                        </div>\n                                    </>\n                                }\n\n                                {this.state.event.ticket_url &&\n                                    <a href={ this.state.event.ticket_url } className=\"occassiongenius-single-venue-get-tickets\" rel=\"noopener noreferrer\" target=\"_blank\" title=\"Get Tickets\">\n                                        Get Tickets\n                                    </a>\n                                }\n\n                                <div className=\"occassiongenius-single-mapping\" data-lat={ this.state.event.latitude } data-long={ this.state.event.longitude }></div>\n                                \n                            </div>\n                        )\n                    }\n                })()}\n            </>\n        );\n\n    }\n\n}\n\nexport default EventSingle;"]},"metadata":{},"sourceType":"module"}