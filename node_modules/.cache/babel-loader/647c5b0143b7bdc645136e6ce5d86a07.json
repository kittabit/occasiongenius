{"ast":null,"code":"import _slicedToArray from\"/Users/kittabit/dev/occasion-genius-wp/og-events/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _asyncToGenerator from\"/Users/kittabit/dev/occasion-genius-wp/og-events/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/kittabit/dev/occasion-genius-wp/og-events/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/kittabit/dev/occasion-genius-wp/og-events/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/kittabit/dev/occasion-genius-wp/og-events/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/kittabit/dev/occasion-genius-wp/og-events/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"/Users/kittabit/dev/occasion-genius-wp/og-events/node_modules/@babel/runtime/regenerator/index.js\";import React from'react';import ReactDOM from'react-dom';import{Routes,Route,Outlet,Link}from\"react-router-dom\";import Event from\"./event\";import EventDetails from\"./event_details\";import'./index.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(url){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(url).then(function(r){return r.json();}).then(function(result){_this.setState({events:result.events,isLoading:0});}).catch(function(e){console.log(e);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.nextPage=function(){_this.setState({current_page:_this.state.current_page+1,isLoading:1,loadingText:\"Loading Next Page of Events...\"},function(){var events_url=_this.state.events_url+_this.state.current_page;_this.fetchData(events_url);window.scrollTo({top:0,behavior:\"smooth\"});});};_this.prevPage=function(){_this.setState({current_page:_this.state.current_page-1,isLoading:1,loadingText:\"Loading Previous Page of Events...\"},function(){var events_url=_this.state.events_url+_this.state.current_page;_this.fetchData(events_url);window.scrollTo({top:0,behavior:\"smooth\"});});};_this.state={current_page:[],next_page:[],max_pages:[],events:[],isLoading:1,events_url:\"/wp-json/occasiongenius/v1/events?page=\",loadingText:\"Loading Current Events...\"};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;Promise.all([fetch('/wp-json/occasiongenius/v1/events')]).then(function(_ref2){var _ref3=_slicedToArray(_ref2,1),res1=_ref3[0];return Promise.all([res1.json()]);}).then(function(_ref4){var _ref5=_slicedToArray(_ref4,1),data1=_ref5[0];return _this2.setState({events:data1.events,current_page:data1.info.current_page,next_page:data1.info.next_page,max_pages:data1.info.max_pages,isLoading:0});});}},{key:\"handleEvent\",value:function handleEvent(){console.log(this.props);}},{key:\"render\",value:function render(){var _this$state=this.state,isLoading=_this$state.isLoading,events=_this$state.events,current_page=_this$state.current_page,next_page=_this$state.next_page,max_pages=_this$state.max_pages;return/*#__PURE__*/_jsx(\"div\",{className:\"occasiongenius-parent-container\",children:this.state.isLoading?/*#__PURE__*/_jsx(\"div\",{className:\"occassiongenius-loaded\",children:this.state.loadingText}):/*#__PURE__*/_jsxs(\"div\",{className:\"occassiongenius-loaded\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"occasiongenius-container\",children:this.state.events.map(function(item,index){return/*#__PURE__*/_jsx(Event,{data:item});})}),/*#__PURE__*/_jsxs(\"div\",{className:\"occasiongenius-pagination\",children:[current_page>1&&/*#__PURE__*/_jsx(\"button\",{onClick:this.prevPage,children:\"Previous Page\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Page \",current_page,\" of \",max_pages]}),next_page<max_pages&&/*#__PURE__*/_jsx(\"button\",{onClick:this.nextPage,children:\"Next Page\"})]})]})});}}]);return App;}(React.Component);var targets=document.querySelectorAll('.og-root');Array.prototype.forEach.call(targets,function(target){ReactDOM.render(/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsx(App,{})}),target);});","map":{"version":3,"sources":["/Users/kittabit/dev/occasion-genius-wp/og-events/src/index.js"],"names":["React","ReactDOM","Routes","Route","Outlet","Link","Event","EventDetails","App","props","fetchData","url","fetch","then","r","json","result","setState","events","isLoading","catch","e","console","log","nextPage","current_page","state","loadingText","events_url","window","scrollTo","top","behavior","prevPage","next_page","max_pages","Promise","all","res1","data1","info","map","item","index","Component","targets","document","querySelectorAll","Array","prototype","forEach","call","target","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Routes, Route, Outlet, Link } from \"react-router-dom\";\nimport Event from \"./event\"\nimport EventDetails from\"./event_details\" \n\nimport './index.css';\n\nclass App extends React.Component {\n\n  constructor (props){\n\n    super(props);\n    this.state = {\n      current_page: [],\n      next_page: [],\n      max_pages: [],\n      events: [],\n      isLoading: 1,\n      events_url: \"/wp-json/occasiongenius/v1/events?page=\",\n      loadingText: \"Loading Current Events...\"\n    }\n    \n  }\n\n  componentDidMount() {\n\n    Promise.all([\n      fetch('/wp-json/occasiongenius/v1/events'),\n    ])\n    .then(([res1]) => Promise.all([res1.json()]))\n    .then(([data1]) => this.setState({\n      events: data1.events,\n      current_page: data1.info.current_page, \n      next_page: data1.info.next_page, \n      max_pages: data1.info.max_pages, \n      isLoading: 0\n    }));\n\n  } \n\n  handleEvent(){\n\n    console.log(this.props);  \n\n  }     \n\n  fetchData = async (url) => {\n\n    await fetch(url)\n      .then((r) => r.json())\n      .then((result) => {\n        this.setState({\n          events: result.events,\n          isLoading: 0\n        });\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n\n  };  \n\n  nextPage = () => {\n\n    this.setState({\n        current_page: this.state.current_page + 1,\n        isLoading: 1,\n        loadingText: \"Loading Next Page of Events...\"\n      },\n      () => {\n        const events_url = this.state.events_url + this.state.current_page;\n        this.fetchData(events_url);\n        window.scrollTo({\n          top: 0,\n          behavior: \"smooth\"\n        });\n      }\n    );\n\n  };\n\n  prevPage = () => {\n\n    this.setState({\n        current_page: this.state.current_page - 1,\n        isLoading: 1,\n        loadingText: \"Loading Previous Page of Events...\"\n      },\n      () => {\n        const events_url = this.state.events_url + this.state.current_page;\n        this.fetchData(events_url);\n        window.scrollTo({\n          top: 0,\n          behavior: \"smooth\"\n        });\n      }\n    );\n\n  };\n\n  render(){\n\n    const { isLoading, events, current_page, next_page, max_pages } = this.state;\n\n    return (  \n\n      <div className=\"occasiongenius-parent-container\">\n\n        {this.state.isLoading ? (\n          <div className=\"occassiongenius-loaded\">{this.state.loadingText}</div>\n        ) : (\n          <div className=\"occassiongenius-loaded\">\n            <div className=\"occasiongenius-container\"> \n              {this.state.events.map((item, index) => (            \n                  <Event data={item}  />\n              ))}\n            </div> \n\n            <div className=\"occasiongenius-pagination\">\n                {current_page > 1 &&\n                  <button onClick={this.prevPage}>Previous Page</button>\n                }\n\n                <p>Page {current_page} of {max_pages}</p>\n\n                {next_page < max_pages &&\n                  <button onClick={this.nextPage}>Next Page</button>\n                }\n            </div>\n\n          </div>\n        )}\n\n      </div>\n    );\n\n  }\n\n}\n\nconst targets = document.querySelectorAll('.og-root');\nArray.prototype.forEach.call(targets, target => {\n  ReactDOM.render(<BrowserRouter><App /></BrowserRouter>, target);\n});"]},"metadata":{},"sourceType":"module"}