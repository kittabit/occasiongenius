{"ast":null,"code":"import _slicedToArray from\"/Users/kittabit/Desktop/occasiongenius/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _classCallCheck from\"/Users/kittabit/Desktop/occasiongenius/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/kittabit/Desktop/occasiongenius/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/kittabit/Desktop/occasiongenius/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/kittabit/Desktop/occasiongenius/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{Link}from\"react-router-dom\";import Loading from'./Loading';import EventGridItem from\"./EventGridItem\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var EventCategorySmall=/*#__PURE__*/function(_React$Component){_inherits(EventCategorySmall,_React$Component);var _super=_createSuper(EventCategorySmall);function EventCategorySmall(props){var _this;_classCallCheck(this,EventCategorySmall);if(window.ogSettings.environment===\"dev\"){var api_base_url=\"http://127.0.0.1:3000\";}else{var api_base_url=\"https://widgetapi.occasiongenius.com\";}_this=_super.call(this,props);_this.state={api_base_url:api_base_url,events:[],category:[],isLoading:1};return _this;}_createClass(EventCategorySmall,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;Promise.all([fetch(this.state.api_base_url+\"/api/events/flag/\"+this.props.event_cat_id+\"/limit/4\")]).then(function(_ref){var _ref2=_slicedToArray(_ref,1),res=_ref2[0];return Promise.all([res.json()]);}).then(function(_ref3){var _ref4=_slicedToArray(_ref3,1),cat_data=_ref4[0];return _this2.setState({events:cat_data,category:cat_data,isLoading:0});});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center bg-white mb-16\",children:/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-12 px-18 gap-5\",children:this.state.isLoading?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-span-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flow-root\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"float-left text-gray-800 text-3xl font-semibold mb-0\",children:this.props.event_cat_id.toUpperCase()}),/*#__PURE__*/_jsx(Link,{to:\"/category/\".concat(this.state.category.Name),className:\"no-underline\",children:/*#__PURE__*/_jsx(\"button\",{className:\"float-right bg-gray-800 text-white px-2 py-2 rounded-none text-base font-medium hover:bg-gray-800 transition duration-300 mt-[5px] pl-[15px] pr-[15px] uppercase text-base pt-[12px] leading-none hover:bg-gray-600\",children:\"View All\"})})]})}),this.state.events.map(function(item,index){return/*#__PURE__*/_jsx(EventGridItem,{item:item},index);})]})})})});}}]);return EventCategorySmall;}(React.Component);export default EventCategorySmall;","map":{"version":3,"sources":["/Users/kittabit/Desktop/occasiongenius/src/Components/EventCategorySmall.js"],"names":["React","Link","Loading","EventGridItem","EventCategorySmall","props","window","ogSettings","environment","api_base_url","state","events","category","isLoading","Promise","all","fetch","event_cat_id","then","res","json","cat_data","setState","toUpperCase","Name","map","item","index","Component"],"mappings":"4lBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,C,gJACMC,CAAAA,kB,oIAEF,4BAAaC,KAAb,CAAmB,oDAEf,GAAGC,MAAM,CAACC,UAAP,CAAkBC,WAAlB,GAAkC,KAArC,CAA2C,CACvC,GAAIC,CAAAA,YAAY,CAAG,uBAAnB,CACH,CAFD,IAEK,CACD,GAAIA,CAAAA,YAAY,CAAG,sCAAnB,CACH,CAED,uBAAMJ,KAAN,EACA,MAAKK,KAAL,CAAa,CACTD,YAAY,CAAEA,YADL,CAETE,MAAM,CAAE,EAFC,CAGTC,QAAQ,CAAE,EAHD,CAITC,SAAS,CAAE,CAJF,CAAb,CATe,aAgBlB,C,gEAED,4BAAoB,iBAEhBC,OAAO,CAACC,GAAR,CAAY,CACRC,KAAK,CAAE,KAAKN,KAAL,CAAWD,YAAX,CAA0B,mBAA1B,CAAgD,KAAKJ,KAAL,CAAWY,YAA3D,CAA0E,UAA5E,CADG,CAAZ,EAGGC,IAHH,CAGQ,gDAAEC,GAAF,gBAAWL,CAAAA,OAAO,CAACC,GAAR,CAAY,CAACI,GAAG,CAACC,IAAJ,EAAD,CAAZ,CAAX,EAHR,EAIGF,IAJH,CAIQ,kDAAEG,QAAF,gBAAgB,CAAA,MAAI,CAACC,QAAL,CAAc,CAClCX,MAAM,CAAEU,QAD0B,CAElCT,QAAQ,CAAES,QAFwB,CAGlCR,SAAS,CAAE,CAHuB,CAAd,CAAhB,EAJR,EAUH,C,sBAED,iBAAS,CAEL,mBACI,sCAEI,YAAK,SAAS,CAAC,iDAAf,uBACI,YAAK,SAAS,CAAC,+BAAf,UAEK,KAAKH,KAAL,CAAWG,SAAX,cAEG,KAAC,OAAD,IAFH,cAKG,wCAEI,YAAK,SAAS,CAAC,aAAf,uBACI,aAAK,SAAS,CAAC,WAAf,wBACI,UAAG,SAAS,CAAC,sDAAb,UACM,KAAKR,KAAL,CAAWY,YAAX,CAAwBM,WAAxB,EADN,EADJ,cAKI,KAAC,IAAD,EAAM,EAAE,qBAAgB,KAAKb,KAAL,CAAWE,QAAX,CAAoBY,IAApC,CAAR,CAAqD,SAAS,CAAC,cAA/D,uBACI,eAAQ,SAAS,CAAC,qNAAlB,sBADJ,EALJ,GADJ,EAFJ,CAcK,KAAKd,KAAL,CAAWC,MAAX,CAAkBc,GAAlB,CAAsB,SAACC,IAAD,CAAOC,KAAP,qBACnB,KAAC,aAAD,EAAe,IAAI,CAAED,IAArB,EAAgCC,KAAhC,CADmB,EAAtB,CAdL,GAPR,EADJ,EAFJ,EADJ,CAuCH,C,gCA3E4B3B,KAAK,CAAC4B,S,EA+EvC,cAAexB,CAAAA,kBAAf","sourcesContent":["import React from 'react';\nimport { Link } from \"react-router-dom\";\nimport Loading from './Loading';\nimport EventGridItem from \"./EventGridItem\"\nclass EventCategorySmall extends React.Component {\n    \n    constructor (props){\n\n        if(window.ogSettings.environment === \"dev\"){\n            var api_base_url = \"http://127.0.0.1:3000\";\n        }else{\n            var api_base_url = \"https://widgetapi.occasiongenius.com\";\n        }\n\n        super(props);\n        this.state = {\n            api_base_url: api_base_url,\n            events: [],\n            category: [],\n            isLoading: 1\n        }\n        \n    }\n\n    componentDidMount() {\n\n        Promise.all([\n            fetch( this.state.api_base_url + \"/api/events/flag/\" + this.props.event_cat_id + \"/limit/4\" ),\n          ])\n          .then(([res]) => Promise.all([res.json()]))\n          .then(([cat_data]) => this.setState({\n            events: cat_data,\n            category: cat_data,\n            isLoading: 0\n        }));\n  \n    }\n\n    render() {\n\n        return ( \n            <>\n\n                <div className=\"flex items-center justify-center bg-white mb-16\">                          \n                    <div className=\"grid grid-cols-12 px-18 gap-5\">\n\n                        {this.state.isLoading ? (\n\n                            <Loading />\n\n                        ) : (\n                            <>\n\n                                <div className=\"col-span-12\">\n                                    <div className=\"flow-root\">\n                                        <p className=\"float-left text-gray-800 text-3xl font-semibold mb-0\">\n                                            { this.props.event_cat_id.toUpperCase() }\n                                        </p>\n\n                                        <Link to={`/category/${ this.state.category.Name }`} className=\"no-underline\">\n                                            <button className=\"float-right bg-gray-800 text-white px-2 py-2 rounded-none text-base font-medium hover:bg-gray-800 transition duration-300 mt-[5px] pl-[15px] pr-[15px] uppercase text-base pt-[12px] leading-none hover:bg-gray-600\">View All</button>    \n                                        </Link>\n                                    </div>\n                                </div>\n\n                                {this.state.events.map((item, index) => (   \n                                    <EventGridItem item={item} key={index} />\n                                ))}\n\n                            </>\n                        )}      \n\n                    </div> \n                </div>\n\n            </>\n\n        );\n\n    }\n\n}\n\nexport default EventCategorySmall;"]},"metadata":{},"sourceType":"module"}